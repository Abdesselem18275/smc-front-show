<app-product-breadcrumb class="mat-elevation-z1 mat-body-strong breadcrumb"></app-product-breadcrumb>
<section class="carousel">
  <img (click)="updateImage(image?.content)" [src]="image?.content" *ngFor ="let image of product?.images">
</section>
<section class="image">
<img [src]="selectedImage">
</section>
<section class="description">
  <p class="mat-h2">{{product?.designation}}</p>
  <p class="mat-body-strong description__color--grey">{{product?.exteriorMaterial.designation}} - {{product?.exteriorMaterial.color}}</p>
  <mat-divider></mat-divider>
  <p class="mat-body description__text">
    {{product?.description}}
  </p>
  <mat-divider></mat-divider>

</section>

<section  class="technical-description">
    <p class="mat-h2">TECHNICAL DETAILS</p>
    <mat-divider></mat-divider>
  <mat-table [dataSource]="product?.variants" >

    <!-- Designation Column -->
    <ng-container matColumnDef="designation">
      <mat-header-cell  *matHeaderCellDef> <h3>Designation</h3> </mat-header-cell>
      <mat-cell  *matCellDef="let element"> {{element.designation}} </mat-cell>
    </ng-container>

    <!-- Reference Column -->
    <ng-container matColumnDef="reference">
      <mat-header-cell *matHeaderCellDef> <h3>Reference</h3> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.reference}} </mat-cell>
    </ng-container>


    <!-- Capacity Column -->
    <ng-container matColumnDef="capacity">
      <mat-header-cell *matHeaderCellDef> <h3>Capacity</h3> </mat-header-cell>
      <mat-cell  *matCellDef="let element"> {{element.capacity.value}} </mat-cell>
    </ng-container>

    <!-- Height Column -->
    <ng-container matColumnDef="height">
      <mat-header-cell *matHeaderCellDef> <h3>Height</h3> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.height.value}} </mat-cell>
    </ng-container>

    <!-- Height Column -->
    <ng-container matColumnDef="thickness">
      <mat-header-cell *matHeaderCellDef> <h3>Thickness</h3> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.thickness.value}} </mat-cell>
    </ng-container>

    <!-- Height Column -->
    <ng-container matColumnDef="diameter">
      <mat-header-cell *matHeaderCellDef> <h3>Diameter</h3> </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.diameter.value}} </mat-cell>
    </ng-container>

    <!-- Components Column -->
    <ng-container matColumnDef="components">
      <mat-header-cell *matHeaderCellDef> <h3>Components</h3> </mat-header-cell>
      <mat-cell *matCellDef="let element">
          <ul>
              <li *ngFor="let component of element.components" class="mat-body">
                  <p class="mat-body-2">{{component?.designation}}</p>
                  <p class="mat-caption">{{component?.measure_type}} : {{component?.measure.value}} -- material : {{component?.material.designation}}</p>
              </li>
            </ul>
      </mat-cell>
    </ng-container>



    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row class="mat-body" *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>


  <mat-accordion multi="true">
    <mat-expansion-panel class="mat-gutter--bottom--16" *ngFor="let variant of product?.variants">
        <mat-expansion-panel-header>
          <mat-panel-title>
              {{variant.designation}}
          </mat-panel-title>
          <mat-panel-description>
              {{variant.reference}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-divider></mat-divider>
    <div class="exp-panel__content">
      <div>
        <h3>Dimensions</h3>
     <ul>
        <li class="mat-body-2">Height : {{variant?.height.value}}cm</li>
        <li class="mat-body-2">Diameter : {{variant?.diameter.value}}cm</li>
        <li class="mat-body-2">Thickness : {{variant?.thickness.value}}mm</li>
        <li class="mat-body-2">Capacity : {{variant?.capacity.value}}l</li>
     </ul>
     <mat-divider class="components-detail__divider--hide"></mat-divider>
    </div>
    <div>
        <h3>Components</h3>
     <ul>
        <li *ngFor="let component of variant?.components" class="mat-body">
            <p class="mat-body-2">{{component?.designation}}</p>
            <p class="mat-caption">{{component?.measure_type}} : {{component?.measure.value}} -- material : {{component?.material.designation}}</p>
        </li>
      </ul>
    </div>
    </div>
    </mat-expansion-panel>

  </mat-accordion>


</section>

<section class="features mat-typography">
  <figure>
    <mat-icon matTooltip="Cook wear" inline ="True" svgIcon='Table_ware'></mat-icon>
    <figcaption>feat for cooking</figcaption>
  </figure>
  <figure>
    <mat-icon matTooltip="Exterior wear" inline ="True" svgIcon='Cook_ware'></mat-icon>
    <figcaption>feat for exterior</figcaption>
  </figure>
  <figure>
    <mat-icon matTooltip="Professional wear" inline ="True" svgIcon='Serve_ware'></mat-icon>
    <figcaption>professional wear</figcaption>
  </figure>

</section>

<section class="related-product">

  <p class="mat-h2">SIMILAR PRODUCTS</p>
  <mat-divider></mat-divider>
</section>
