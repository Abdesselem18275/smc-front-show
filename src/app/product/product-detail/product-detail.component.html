
<app-product-menu class="menu__black"></app-product-menu>

<section *ngIf="isReady" class="list-header">
<div class="content__meta-bar">
  <div>
    <app-product-breadcrumb [currentProduct]="product.rootCategory" class="mat-body-strong breadcrumb"></app-product-breadcrumb>
  </div>
    <span class="content__meta-bar--spacer"></span>
</div>
</section>


<div *ngIf="isReady" class="upper-section">
<section class="carousel">
  <section class="main-image">
    <mat-icon *ngIf="imagesNumber > 1" (click) = "stepUpdateImage(-1)">keyboard_arrow_left</mat-icon>
    <div>
      <img [@imageChangeTrigger] ="isImageReady ? 'in' : 'out'" (swipeleft) = "stepUpdateImage(-1)" (swiperight) = "stepUpdateImage(1)"[src]="selectedImage">
    </div>
    <mat-icon *ngIf="imagesNumber > 1 "  (click) = "stepUpdateImage(1)" >keyboard_arrow_right</mat-icon>
  </section>
  <section class='images-selector'>
      <span [style.background-color] = "i == selectedIndex ? '#7F6A23' : 'black'" (click) = "updateImage(i)" class="dot" *ngFor='let el of counter() ;let i = index'></span>
  </section>
</section>

<section class="description">
  <header class="title-section">
    <div>
      <p class="mat-h1">{{product?.designation  | uppercase}}</p>
      <p style="margin-top : -1.5em" class="mat-body description__color--grey"> {{ product?.exteriorMaterial.designation | lowercase }}<span *ngIf="product?.interiorMaterial.color" >-</span> {{ product?.interiorMaterial.designation | lowercase }}</p>
    </div>
    <mat-icon id="collection-icon" svgIcon="Hanno"></mat-icon>
  </header>
  <section>
  <mat-divider></mat-divider>
  <mat-tab-group>
    <mat-tab label="Area of Use">
      <p class="mat-body description__text">
          {{product?.areaOfUse}}
      </p>
    </mat-tab>
    <mat-tab label="Materials">
      <p class="mat-body description__text">
        {{product?.materials}}
      </p>
    </mat-tab>
    <mat-tab label="Aesthetics">
      <p class="mat-body description__text">
        {{product?.aesthetics}}
      </p>
    </mat-tab>
  </mat-tab-group>
  <mat-divider></mat-divider>
  </section>
  <section class="feature-container">
      <figure><mat-icon  svgIcon="Micro_wave"></mat-icon></figure>
      <figure><mat-icon  svgIcon="Cooking_plate"></mat-icon></figure>
  </section>

  <button class="button">More informations</button>

</section>
</div>
<section  class="technical-description">
    <p class="mat-h2">Technical details</p>
    <mat-divider></mat-divider>
  <section class="technical-data-container">
  <table class="variants-dimension-data mat-typography">
   <tr>
     <th  *ngFor="let header of displayedColumns">
       {{header}}
     </th>
   </tr>
   <tr *ngFor="let variant of product?.variants" >
    <td class="variant-designation">
      <p>{{ variant?.designation | uppercase }}</p>
      <p class="variant-reference">{{variant?.reference}}</p>
    </td>
    <td>
      {{variant.height.to_string()}}
    </td>
    <td>
      {{variant.capacity.to_string()}}
    </td>
    <td>
      {{variant.thickness.to_string()}}
    </td>
    <td>
      {{variant.diameter.to_string()}}  
    </td>
   </tr>
 </table>
  <table class="component-detail mat-typography">
      <tr>
          <th>
            Component
          </th>
        </tr>
      <tr>
          <td>
            <article *ngFor="let component of product?.components">
              <div class="variant-component-upper-section">
                <p class="variant-component-designation">{{component.designation}}</p>
                <div><img [src]="component.svgIcon.content"></div>
              </div>
              <p class="variant-component-spec">
                {{component.measure_type}} : {{component.measure_min.to_string()}} <span> &nbsp; --> &nbsp;&nbsp;{{component.measure_max.to_string()}}</span>

              </p>
              <p class="variant-component-spec">Material : {{component.material.to_string()}}</p>
            </article>
          </td>
      </tr>
  </table>

</section>
  

</section>


<section class="related-product">

  <p class="mat-h2">SIMILAR PRODUCTS</p>
  <mat-divider></mat-divider>
</section>
