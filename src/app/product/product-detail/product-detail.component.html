

<section *ngIf="isReady" class="list-header">
<div class="content__meta-bar">
  <div>
    <app-category-breadcrumb [currentProduct]="product.rootCategory" class="body-style breadcrumb"></app-category-breadcrumb>
  </div>
    <span class="content__meta-bar--spacer"></span>
</div>
</section>


<div *ngIf="isReady" class="upper-section">
<section class="carousel">
  <section class="main-image">
      <app-loading class="inbox-center" *ngIf="!isImageReady"></app-loading>

    <button class="main-image__arrow" *ngIf="imagesNumber > 1" (click) = "stepUpdateImage(-1)" mdc-icon-button icon="keyboard_arrow_left"></button>
   
    <div>
      <img [@imageChangeTrigger] ="getState()" (swipeleft) = "stepUpdateImage(-1)" (swiperight) = "stepUpdateImage(1)"[src]="selectedImage">
    </div>
    <button  class="main-image__arrow" *ngIf="imagesNumber > 1 "  (click) = "stepUpdateImage(1)" mdc-icon-button icon="keyboard_arrow_right"></button>

  </section>
  <section class='images-selector'>
      <span [style.background-color] = "i == selectedIndex ? '#7F6A23' : 'black'" (click) = "updateImage(i)" class="dot" *ngFor='let el of counter() ;let i = index'></span>
  </section>
</section>

<section class="description">
  <header class="title-section">
    <mdc-icon *ngIf="product.collection?.svgIcon" [svgIcon]="product.collection?.svgIcon.designation"></mdc-icon>
    <div>
      <p mdcHeadline6>{{product?.designation  | uppercase}}</p>
      <p  class="text--grey" mdcBody2> {{ product?.exteriorMaterial.designation | lowercase }}<span *ngIf="product?.interiorMaterial.color" >-</span> {{ product?.interiorMaterial.designation | lowercase }}</p>
    </div>
    <button mdc-icon-button icon="favorite"></button>
    <button mdc-icon-button icon="message"></button>

  </header>
  <section>
<mdc-tab-bar #myIndex [activeTabIndex]="0" class="description__content">
  <mdc-tab-scroller>
    <mdc-tab label="Area of Use">

    </mdc-tab>
    <mdc-tab label="Materials">

    </mdc-tab>
    <mdc-tab label="Aesthetics">

    </mdc-tab>

    </mdc-tab-scroller>
    <div  class="description__text" [ngSwitch]="myIndex.activeTabIndex ">
      <p mdcBody2 *ngSwitchCase="0">
          {{product.areaOfUse}}
      </p>
      <p mdcBody2 *ngSwitchCase="1">
          {{product.materials}}

      </p>
      <p mdcBody2 *ngSwitchCase="2">
          {{product.aesthetics}}

      </p>
    </div>
  
  </mdc-tab-bar>
  </section>
  <section *ngIf="product.features" class="feature-container">
    
        <mdc-icon *ngFor="let feature of product.features" class="feature-icon-button--large" [svgIcon]="feature.svgIcon.designation"></mdc-icon>
      
  </section>
  <span class="description__spacer"></span>
  <button mdc-button outlined><span class="mdc-button__label">More informations</span></button>
</section>
</div>
<section  class="technical-description">
    <p mdcHeadline4>Technical details</p>
  <section class="technical-data-container">
  <table mdcBody2 class="variants-dimension-data">
   <tr>
     <th  *ngFor="let header of displayedColumns">
       {{header}}
     </th>
   </tr>
   <tr *ngFor="let variant of product?.variants" >
    <td>
        {{ variant?.designation | uppercase }} /
        <span>{{variant?.reference | uppercase}}</span>
    </td>
      <td>
          {{variant.height.to_string()}}
        </td>
    <td>
      {{variant.capacity.to_string()}}
    </td>
    <td>
      {{variant.thickness.to_string()}}
    </td>
    <td>
      {{variant.diameter.to_string()}}  
    </td>
   </tr>
 </table>
  <table  *ngIf="product?.components.length > 0" mdcBody2 class="component-detail">
      
      <tr>
          <th  *ngFor="let header of componnentDisplayedColumns">
            {{header}}
          </th>
        </tr>
      <tr *ngFor="let component of product?.components">
          <td class="componnent-designation__aligned">
              <mdc-icon  [svgIcon]="component.svgIcon.designation"></mdc-icon>
              {{component.designation}}

          </td>
          <td>
              {{component.measure_type}} : {{component.measure_min.to_string()}} <span> &nbsp; --> &nbsp;&nbsp;{{component.measure_max.to_string()}}</span>

          </td>
          <td>
              {{component.material.to_string()}}
          </td>
      </tr>
  </table>

</section>
  

</section>


<section class="related-product">

  <p mdcHeadline4>Similar products</p>
</section>

