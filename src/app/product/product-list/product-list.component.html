
<header class="main-header--sticky">
    <div class="content__meta-bar">
        <div class="content__meta-bar-breadcrumb" >
          <app-category-breadcrumb *ngIf="!(isSearchActive |async)" class="breadcrumb"></app-category-breadcrumb>
          <p class="content__objects-count mat-body-1">{{objCount | async}} selected products</p>
        </div>
        <button class="meta-bar__filter" mat-icon-button >
        <mat-icon [matBadge]="(filterParamCount | async) != 0 ? (filterParamCount | async) : ''" matBadgeColor="primary" (click)="toggleModal('filterBox')" >
          tune
        </mat-icon>
      </button>
      </div>

    </header>

<div  [@routeAnimations]  *ngIf="filterBox |async" class="mat-elevation-z2 side-box">
    <app-product-filter>
      </app-product-filter>
</div>

    
    <mat-progress-bar *ngIf="isLoading | async" mode="indeterminate">

    </mat-progress-bar>

          <section   class="content">

              <mat-button-toggle-group  class="view-toggeler" (change)="toggleView($event)">
                  <mat-button-toggle value="box" aria-label="Text align left">
                    <mat-icon>view_module</mat-icon>
                  </mat-button-toggle>
                  <mat-button-toggle value="list" aria-label="Text align center">
                    <mat-icon>view_list</mat-icon>
                  </mat-button-toggle>
                </mat-button-toggle-group>


            <div   [ngClass]="{'content__image-container--list': isListActive , 'content__image-container--grid': !isListActive }">


                <app-product-box class=" product-box"  [mode]="isListActive ? 'list' : 'grid' "  [product]="productShort" *ngFor="let productShort of productShorts | async">
                </app-product-box>
                <mat-divider [inset]="true" ></mat-divider>

            </div>

          </section>
          <div  appScrollPaginator 
          (pageNumber)="pageEvent($event)" 
          class='bottom-line'>
          <mat-icon inline="true" *ngIf="isLoading | async" svgIcon="loading_2"></mat-icon>
        </div>
