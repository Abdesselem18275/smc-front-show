<p class="mat-body-strong">
FILTER BY
</p>

<form  *ngIf="ready" class="mat-typography" [formGroup]="filterForm"  class="mat-typography">
<mat-accordion  [multi]="true" displayMode="flat">
    <mat-expansion-panel *ngFor="let filterCategory of filterCategories" class="mat-typography">
      <mat-expansion-panel-header [collapsedHeight]="'4em'">
        <mat-panel-title>
          <h5>{{filterCategory.value | uppercase}} </h5>
        </mat-panel-title>
      </mat-expansion-panel-header>
            <div [formGroupName]="filterCategory.key">

                <mat-checkbox *ngFor="let choice of filterCategory.choices" class="caption" color="primary"
                    [formControlName]="choice.key" (change)="changed($event,filterCategory)"   [id]="choice.key " [checked]="true">
                    {{choice.value | lowercase}}
                </mat-checkbox>
            </div>


    </mat-expansion-panel>
</mat-accordion>
    <mat-divider class="mat-gutter--bottom--16"></mat-divider>
    <button  class="mat-gutter--bottom--16" (click)="clearFilter()" mat-raised-button color="primary">CLEAR ALL</button>
</form>
