<header >
  <ng-container  *ngIf="isLogged$ | async else anonumous">
    <div class="header">
      <app-initials-icon [size]="52"  [initials]="initials$ | async"></app-initials-icon>
      <div class="ml6 column">
      <span class="mat-h2">Welcome</span>
      <span class="mat-body">{{(profile$|async).first_name}} {{(profile$|async).last_name}}</span>
    </div>
    </div>

  </ng-container>


</header>
<main>
  <!-- <div class="pl4">
    <app-categories-tree [treeData]="navMenuData$ |async"></app-categories-tree>
  </div> -->
<mat-list dense>
  <div mat-subheader>Preferences</div>
  <mat-divider></mat-divider>
  <mat-list-item (click)="openPaimentCurrencyDialog()">
    <mat-icon mat-list-icon>payments</mat-icon>
    <span mat-line class="mat-body-2">Payment currency</span>
    <span mat-line class="mat-body-2">{{(paimentCurrency$|async)?.designation}}</span>
  </mat-list-item>
  <mat-list-item (click)="openShippingCoutryDialog()">
    <mat-icon mat-list-icon>local_shipping</mat-icon>
    <span mat-line class="mat-body-2">Shipping country</span>
    <span mat-line class="mat-body-2">{{(shippingCountry$|async)?.designation}}</span>
  </mat-list-item>
  <mat-list-item [matMenuTriggerFor]="lang">
    <mat-icon mat-list-icon>language</mat-icon>
    <span mat-line class="mat-body-2">Language</span>
    <span mat-line class="mat-body-2">{{(language$ |async)?.languageType}}</span>
  </mat-list-item>
  <div mat-subheader>Products Categories</div>
  <mat-divider></mat-divider>
  <mat-list-item 
    mat-dialog-close
    [routerLink]="['/product/list']" 
    [queryParams]="{categories__designation__in: rootCat.designation}" 
    *ngFor="let rootCat of rootCategories$ |async">
    <mat-icon [svgIcon]="rootCat.svgIcon" mat-list-icon></mat-icon>
    <span mat-line class="mat-body-2">{{rootCat.designation | titlecase}}</span>
  </mat-list-item>
  <div mat-subheader>Informations</div>
  <mat-divider></mat-divider>
  <mat-list-item>
    <mat-icon mat-list-icon>business</mat-icon>
    <span mat-line class="mat-body-2">Who we are</span>
  </mat-list-item>
  <mat-list-item>
    <mat-icon mat-list-icon>mail</mat-icon>
    <span mat-line class="mat-body-2">Contact us</span>
  </mat-list-item>
</mat-list>


</main>
<ng-template #anonumous>
  <div  class="inline--centred--spaced">
    <button mat-stroked-button>Login or create an account</button>
    <button mat-dialog-close mat-icon-button><mat-icon>close</mat-icon></button>

  </div>
</ng-template>
<mat-menu  #lang="matMenu">
  <a class="inline--centred--spaced" [href]="getHref(item.id)" mat-menu-item *ngFor="let item of languageList" >
    <div>
      <mat-icon [svgIcon]="(item.languageType)"></mat-icon>
      <span class="mat-body-2">{{item.languageType}}</span>
    </div>
      <mat-icon *ngIf="(language$ |async)?.languageType == item.languageType">check</mat-icon>
  </a>
</mat-menu>